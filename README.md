# 3min_photo
정말 간단한 보정만을 할 수 있는 포토샵입니다. 편집 기능은 6가지입니다. 버튼 순서대로 각각 줌인, 줌아웃, 회전, 밝게하기, 어둡게하기, 채도 감소 기능입니다. 
앞서 말했듯 정말 간단한 보정만이 가능하여 3분 포토샵으로 이름을 짓게 되었습니다. 촬영하기로 사진을 불러와 편집을 할 수 있도록 제작하였으나 
사진 촬영 코드가 제대로 작동하지 않는 오류가 있어 고쳐보려고 노력했지만 이 부분은 제대로 구현을 못했습니다.

-activity_main.xml
총 6개의 기능을 넣어줄 것이고 이미지가 있는 버튼을 사용하고 싶었기에 ImageButton을 사용해서 총 6개의 이미지 버튼을 넣어줬습니다.
사진촬영으로 가기위한 버튼은 button을 사용해서 만들어주고 텍스트만 변경해주었습니다.
이미지 출력과 버튼 부분을 구분하기 위한 리니어 레이아웃을 넣어주었습니다.이미지 뷰 위에 버튼들이 있는
형식으로하기위해 Vertical로 나눠주었고, 추가적으로 버튼들을 수평정렬하기위해 horizontal로 리니어레이어아웃을
추가적으로 생성해주고 배치했습니다. 아이콘 사이즈가 너무커서 wrap content가 아닌 적당한 사이즈로 dp값을 주어
배치했습니다.

-MainActivity
레이아웃에 추가해준 ImageButton 6개를 선언해주고 각각의 기능인 줌인, 줌아웃, 밝게, 어둡게, 회전, 채도 변경 기능의 초기 값을 설정해주었습니다.
사진 촬영을 위한 창으로 넘어가는 버튼을 만들어주고 연결해주었습니다. 
setTitle로 프로젝트 이름을 적어주었습니다. title >> '3분 포토샵'
변수 graphicView에 MyGraphicView 클래스의 기능을 저장한 수 그 값을 LinearLayout과 연결되어 있는 PictureLayout변수에 addView()를 이용해 graphicView를 추가해주었습니다.
clickIcons()메소드를 실행시킨뒤 밑으로내려가 private로 메소드를 생성해주고 위에 만들었던 이미지 버튼들의 기능을 구현해주었습니다.
변수 zoomin, zoomout, zoomrotate, zoombright, zoomdark, zoomgray에 findViewById를 이용해 XML의 버튼과 연결시켜준 후, 클릭 기능을 사용해야하기 때문에
SetOnClickListener를 이용해서 기능을 추가해주었습니다.

줌in버튼을 누르면 Scale X,Y의 기본값에 0.2를 하여 총 1.2배가 커지는 효과를 볼 수 있게 해주었고, 이와 반대로 줌out버튼을 누르면 1.2배 작아지는 효과를
볼 수 있게 했습니다. 이때, invalidate()값을 추가해서 그 전의 값을 무효화 시키고 실행할 수 있게 해줍니다.
회전,밝게, 어둡게 버튼도 위와 비슷하게 기본 값에 기능 별로 추가값을 넣어서 회전하고, 밝아지고 어두워지는 원리입니다. 
rotate값에 20을 넣으면 angle에 20이 추가되어 20도씩 회전하고, 밝아지는 버튼과 어두워지는 버튼은 0.2배씩 밝아지고 어두워집니다.
이 버튼들 또한 마지막에 invalidate()값을 추가해서 그 전의 값을 무효화 시키고 실행할 수 있게해줍니다. 
줌gray는 채도값을 변경시켜 사진을 회색으로 만드는 버튼으로, 최초에 버튼을 클릭했을시 회색으로 전환되고 또 한번 클릭시 밝게 전환됩니다.

밑의 protected void onDraw부분은 편집을 하는 이미지를 조정하기 위한 부분입니다.
Bitmap기능을 이용해 파일을 가져와줍니다. BitmapFactory.decodeResource코드를 작성하고, drawable에 편집을 위한 이미지파일을 넣은뒤 불러왔습니다.
편집하는 이미지의 크기를 가져와 /2를 함으로써 이미지의 중앙값을 가져오게되고, scale을 이용해 크기 지정, rotate를 이용해 회전 기능을 추가해 줬습니다.
satur값을 밝기와 명도조절 및 사진의 채도를 내려주는 기능을 할 수 있게해주고,
setColorFilter()를 이용해 명도가 바뀐 이미지의 모습을 저장하고 보여줄 수 있습니다.

-photo.xml
앞선 main액티비티에서 지정해놓은 촬영버튼을 누르면 이동되는 창입니다. 
이미지뷰와 버튼 뷰를 구분해주기위해 리니어레이아웃을 vertical로 넣어주었습니다.

-androidManifest.xml
카메라와 내부 저장소 접근 권한 설정을 해주었습니다.

-PhotoActivity
기능 구현이 제대로 안되서 이거저거 코드들을 찾으며 섞어가서 복잡하지만
차례대로 사진 1장을 찍는 것이고, 이 창에 들어오면 저장소 접근권한을
물어보는 창이 뜨게됩니다. 사진찍기 버튼을 누르게되면 카메라 프로그램을 불러와져
사진을 찍을 수 있는 상태가되며 사진을 찍은후 가운데 체크표시를 누르면 아까 레이아웃에서
만들어놓은 이미지뷰에 사진이 들어가야하는데 체크표시를 누르면 프로그램이 튕겨버리고
해결할 부분을 찾지못해 이 부분은 제대로 구현하지 못했습니다. 이 부분까지 구현뒤 앞에
편집프로그램으로 불러와 편집하는 것이 원 목표였습니다.



